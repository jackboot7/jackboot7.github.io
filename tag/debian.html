
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="HandheldFriendly" content="True" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="robots" content="index, follow" />

  <link href="https://fonts.googleapis.com/css?family=Source+Code+Pro|Source+Sans+Pro:300,400,400i,700" rel="stylesheet">

    <link rel="stylesheet" type="text/css" href="https://www.jackboot7.com/theme/stylesheet/style.min.css">


  <link rel="stylesheet" type="text/css" href="https://www.jackboot7.com/theme/pygments/solarized-light.min.css">
  <link rel="stylesheet" type="text/css" href="https://www.jackboot7.com/theme/font-awesome/css/fontawesome.css">
  <link rel="stylesheet" type="text/css" href="https://www.jackboot7.com/theme/font-awesome/css/brands.css">
  <link rel="stylesheet" type="text/css" href="https://www.jackboot7.com/theme/font-awesome/css/solid.css">

    <link href="https://www.jackboot7.com/extra/custom.css" rel="stylesheet">

    <link href="https://www.jackboot7.com/feeds/all.atom.xml" type="application/atom+xml" rel="alternate" title="Luis Alberto Santana Atom">



<!-- Google Analytics -->
<script type="text/javascript">
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-43616963-1', 'auto');
  ga('send', 'pageview');
</script>
<!-- End Google Analytics -->
    <!-- Chrome, Firefox OS and Opera -->
    <meta name="theme-color" content="#FFF">
    <!-- Windows Phone -->
    <meta name="msapplication-navbutton-color" content="#FFF">
    <!-- iOS Safari -->
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <!-- Microsoft EDGE -->
    <meta name="msapplication-TileColor" content="#FFF">

    <meta name="author" content="Luis Alberto Santana" />
    <meta name="description" content="" />
<meta property="og:site_name" content="Luis Alberto Santana"/>
<meta property="og:type" content="blog"/>
<meta property="og:title" content="Luis Alberto Santana"/>
<meta property="og:description" content=""/>
<meta property="og:locale" content="en_US"/>
<meta property="og:url" content="https://www.jackboot7.com"/>
<meta property="og:image" content="https://2.gravatar.com/avatar/e426d5ca1f331cb8418614b7439a8dcd?v=2&s=150">

  <title>Luis Alberto Santana &ndash;     Tag debian
</title>

</head>
<body>
  <aside>
    <div>
      <a href="https://www.jackboot7.com">
        <img src="https://2.gravatar.com/avatar/e426d5ca1f331cb8418614b7439a8dcd?v=2&s=150" alt="" title="">
      </a>
      <h1><a href="https://www.jackboot7.com"></a></h1>

<p>@jackboot7</p>      <nav>
        <ul class="list">

            <li><a target="_blank" href="https://www.jackboot7.com/pages/about-me.html#about-me">About me</a></li>

            <li><a target="_blank" href="https://www.jackboot7.com/engineering-management/" >Engineering Management Resources</a></li>
        </ul>
      </nav>

      <ul class="social">
          <li>
            <a  class="sc-github" href="https://github.com/jackboot7" target="_blank">
            <i class="fab fa-github">
            </i>
          </a></li>
          <li>
            <a  class="sc-twitter" href="https://twitter.com/jackboot7" target="_blank">
            <i class="fab fa-twitter">
            </i>
          </a></li>
          <li>
            <a  class="sc-linkedin" href="https://www.linkedin.com/in/lsantanaf" target="_blank">
            <i class="fab fa-linkedin">
            </i>
          </a></li>
          <li>
            <a  class="sc-stack-overflow" href="https://stackoverflow.com/users/1170195/luis-alberto-santana" target="_blank">
            <i class="fab fa-stack-overflow">
            </i>
          </a></li>
          <li>
            <a  class="sc-rss" href="feeds/all.atom.xml" target="_blank">
            <i class="fas fa-rss">
            </i>
          </a></li>
      </ul>
    </div>


  </aside>
  <main>

    <nav>
      <a href="https://www.jackboot7.com">    Home
</a>


      <a href="https://www.jackboot7.com/feeds/all.atom.xml">    Atom
</a>

    </nav>



<article>
  <header>
    <h2><a href="https://www.jackboot7.com/moving-docker-default-directory-debian.html#moving-docker-default-directory-debian">[Debian] Changing Docker's default /var/lib/docker directory</a></h2>
    <p>
          Posted on Tuesday, Sep 10, 2019 in <a href="https://www.jackboot7.com/category/programming.html">programming</a>


          &#8226;     Tagged with

              <a href="https://www.jackboot7.com/tag/debian.html">debian</a>,              <a href="https://www.jackboot7.com/tag/docker.html">docker</a>,              <a href="https://www.jackboot7.com/tag/directory.html">directory</a>,              <a href="https://www.jackboot7.com/tag/systemd.html">systemd</a>
    </p>
  </header>
  <div>
      <p>By default, Docker storage its files in the <cite>/var/lib/docker</cite> directory in the file system. If, like me, you're running out of disk space in the default file system, you can quickly change the default directory. This are the steps I followed in Debian 10, it should work with any distro that uses <cite>systemd</cite></p>
<p>As superuser, modify the systemd docker startup script. Edit the file <cite>/lib/systemd/system/docker.service</cite> replacing the <cite>ExecStart</cite> command:</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1</pre></div></td><td class="code"><div class="highlight"><pre><span></span>$ sudo vim /var/systemd/system/docker.service
</pre></div>
</td></tr></table><p>Change the line:</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="pgcssnv">ExecStart</span><span class="pgcsso">=</span>/usr/bin/docker daemon -H fd://
</pre></div>
</td></tr></table><p>to</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="pgcssnv">ExecStart</span><span class="pgcsso">=</span>/usr/bin/docker daemon -g /new/path -H fd://
</pre></div>
</td></tr></table><p>then stop the service, and be sure that the daemon is completely stopped:</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2</pre></div></td><td class="code"><div class="highlight"><pre><span></span>$ sudo systemctl stop docker
$ ps -aux <span class="pgcssp">|</span> grep -i docker
</pre></div>
</td></tr></table><p>The only output should be the one from <cite>grep</cite>. Then you can reload the system and -optionally- synchronize your current docker data to the new directory</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3</pre></div></td><td class="code"><div class="highlight"><pre><span></span>$ sudo systemctl daemon-reload
$ sudo mkdir /new/path
$ sudo rsync -aqxP /var/lib/docker /new/path
</pre></div>
</td></tr></table><p>Your docker installation should be running in the new data directory:</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1</pre></div></td><td class="code"><div class="highlight"><pre><span></span>$ ps -aux <span class="pgcssp">|</span> grep -i docker
</pre></div>
</td></tr></table><p>That's it.</p>

  </div>
  <hr />
</article>
<article>
  <header>
    <h2><a href="https://www.jackboot7.com/installing-spotify-debian.html#installing-spotify-debian">A Quick Guide to Install Spotify in Debian 9.0</a></h2>
    <p>
          Posted on Wednesday, Jul 05, 2017 in <a href="https://www.jackboot7.com/category/personal.html">personal</a>


          &#8226;     Tagged with

              <a href="https://www.jackboot7.com/tag/personal.html">personal</a>,              <a href="https://www.jackboot7.com/tag/spotify.html">spotify</a>,              <a href="https://www.jackboot7.com/tag/debian.html">debian</a>,              <a href="https://www.jackboot7.com/tag/music.html">music</a>,              <a href="https://www.jackboot7.com/tag/install.html">install</a>,              <a href="https://www.jackboot7.com/tag/apt.html">apt</a>
    </p>
  </header>
  <div>
      <p>A quick guide of the steps I took to install <em>Spotify version 1.0</em> in Debian 9.0. First of all, the Spotify team doesn't (officially) support the Linux version, so even if they claim to be compatible with de lastest version of Ubuntu's LTS, it tends to fall behind with the dependencies.</p>
<p>With a fresh install of Debian, you'll need <em>dirmngr</em> installed before adding the Spotify repository to your <em>apt</em> list:</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1</pre></div></td><td class="code"><div class="highlight"><pre><span></span>$ sudo apt install dirmngr
</pre></div>
</td></tr></table><p>After <em>dirmngr</em> installation, you'll need to add the Spotify keys and repositories (just check the instructions in the <a class="reference external" href="https://www.spotify.com/mx/download/linux/">Spotify for Linux</a> website):</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2</pre></div></td><td class="code"><div class="highlight"><pre><span></span>$ sudo apt-key adv --keyserver hkp://keyserver.ubuntu.com:80 --recv-keys BBEBDCB318AD50EC6865090613B00F1FD2C19886
$ <span class="pgcssnb">echo</span> deb http://repository.spotify.com stable non-free <span class="pgcssp">|</span> sudo tee /etc/apt/sources.list.d/spotify.list
</pre></div>
</td></tr></table><p>If you follow the instructions at Spotify's website, the installation should be ready with the update and install commands from apt:</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1</pre></div></td><td class="code"><div class="highlight"><pre><span></span>$ sudo apt update <span class="pgcsso">&amp;&amp;</span> sudo apt install spotify-client
</pre></div>
</td></tr></table><p>But is a common case that not all the dependencies are up to date between Spotify and Debian, so you'll need to add them &quot;by hand&quot;.</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6</pre></div></td><td class="code"><div class="highlight"><pre><span></span>The following packages have unmet dependencies:
 spotify-client : Depends: libssl1.0.0 but it is not installable
                                  Recommends: libavcodec54 but it is not installable or
                                                          libavcodec-extra-54 but it is not installable
                                  Recommends: libavformat54 but it is not installable
E: Unable to correct problems, you have held broken packages.
</pre></div>
</td></tr></table><p>First you'll have to download the exact same version of the package that Spotify needs, in my case it was <em>libssl1.0.0</em>, I downloaded it from: <a class="reference external" href="`https://packages.debian.org/jessie/libssl1.0.0`">https://packages.debian.org/jessie/libssl1.0.0</a>.</p>
<p>Then just install it with apt and try re-installing Spotify:</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3</pre></div></td><td class="code"><div class="highlight"><pre><span></span>$ wget http://security.debian.org/debian-security/pool/updates/main/o/openssl/libssl1.0.0_1.0 …</pre></div></td></tr></table>
        <br>
        <a class="btn" href="https://www.jackboot7.com/installing-spotify-debian.html#installing-spotify-debian">    Continue reading
</a>
  </div>
  <hr />
</article>
<article>
  <header>
    <h2><a href="https://www.jackboot7.com/debian-development-tips.html#debian-development-tips">Debian (development tips)</a></h2>
    <p>
          Posted on Saturday, Dec 13, 2014 in <a href="https://www.jackboot7.com/category/programming.html">programming</a>


          &#8226;     Tagged with

              <a href="https://www.jackboot7.com/tag/debian.html">debian</a>,              <a href="https://www.jackboot7.com/tag/help.html">help</a>,              <a href="https://www.jackboot7.com/tag/documentation.html">documentation</a>,              <a href="https://www.jackboot7.com/tag/libraries.html">libraries</a>,              <a href="https://www.jackboot7.com/tag/pil.html">pil</a>,              <a href="https://www.jackboot7.com/tag/libjpeg.html">libjpeg</a>,              <a href="https://www.jackboot7.com/tag/locale.html">locale</a>,              <a href="https://www.jackboot7.com/tag/matplotlib.html">matplotlib</a>,              <a href="https://www.jackboot7.com/tag/libxml.html">libxml</a>,              <a href="https://www.jackboot7.com/tag/ubuntu.html">ubuntu</a>,              <a href="https://www.jackboot7.com/tag/freetype.html">freetype</a>,              <a href="https://www.jackboot7.com/tag/postgresql.html">postgresql</a>,              <a href="https://www.jackboot7.com/tag/database.html">database</a>,              <a href="https://www.jackboot7.com/tag/scipy.html">scipy</a>
    </p>
  </header>
  <div>
      <p>These are some extra steps that I've found necessary when starting development in a recently-installed Debian machine.</p>
<div class="section" id="jpeg-support-in-pil-and-pillow">
<h2>Jpeg support in PIL and pillow.</h2>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4</pre></div></td><td class="code"><div class="highlight"><pre><span></span>$ sudo apt-get install libjpeg libjpeg-dev libfreetype6 libfreetype6-dev zlib1g-dev
$ sudo ln -s /usr/lib/<span class="pgcsssb">`</span>uname -i<span class="pgcsssb">`</span>-linux-gnu/libfreetype.so /usr/lib/
$ sudo ln -s /usr/lib/<span class="pgcsssb">`</span>uname -i<span class="pgcsssb">`</span>-linux-gnu/libjpeg.so /usr/lib/
$ sudo ln -s /usr/lib/<span class="pgcsssb">`</span>uname -i<span class="pgcsssb">`</span>-linux-gnu/libz.so /usr/lib/
</pre></div>
</td></tr></table></div>
<div class="section" id="installing-lxml-in-python-debian-based">
<h2>Installing lxml in Python (Debian  based).</h2>
<p>If you're getting the <strong>&quot;fatal error: libxml/xmlversion.h: No such file or directory&quot;</strong> error, just install the following development files:</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1</pre></div></td><td class="code"><div class="highlight"><pre><span></span>$ sudo apt-get install python-dev libxml2-dev libxslt1-dev
</pre></div>
</td></tr></table></div>
<div class="section" id="problems-with-matplotlib-and-freetype">
<h2>Problems with 'matplotlib' and freetype.</h2>
<p>If you're having problems installing matplotlib in a Python virtualenv, and are getting the <em>'freetype missing'</em> error, you sould install the development files for freetype, and (in most cases) rebuild the python dependencies for matplotlib.</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2</pre></div></td><td class="code"><div class="highlight"><pre><span></span>$ sudo apt-get  -u install libfreetype6-dev
$ sudo apt-get build-dep python-matplotlib
</pre></div>
</td></tr></table><p>After that, you can just use pip normally to install matplotlib</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1</pre></div></td><td class="code"><div class="highlight"><pre><span></span>$ pip install matplotlib
</pre></div>
</td></tr></table><p>PS. I know of cases where you have to update <em>python-virtualenv</em> and <em>python-pip</em> after you use build-dep. Just apt-get upgrade your installation.
Today I learned about the 'pydoc' command from Python.</p>
</div>
<div class="section" id="problems-with-locale">
<h2>Problems with locale</h2>
<p>In some machines I've found problems when setting locales from Python.  First check the results of running</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1</pre></div></td><td class="code"><div class="highlight"><pre><span></span>$ locale
</pre></div>
</td></tr></table><p>In my case is:</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="pgcssnv">LANG</span><span class="pgcsso">=</span>es_VE.UTF-8
<span class="pgcssnv">LANGUAGE</span><span class="pgcsso">=</span>es_VE:es
<span class="pgcssnv">LC_CTYPE</span><span class="pgcsso">=</span><span class="pgcsss2">&quot;es_VE.UTF-8&quot;</span>
<span class="pgcssnv">LC_NUMERIC</span><span class="pgcsso">=</span><span class="pgcsss2">&quot;es_VE.UTF-8&quot;</span>
<span class="pgcssnv">LC_TIME</span><span class="pgcsso">=</span><span class="pgcsss2">&quot;es_VE.UTF-8&quot;</span>
<span class="pgcssnv">LC_COLLATE</span><span class="pgcsso">=</span><span class="pgcsss2">&quot;es_VE.UTF-8&quot;</span>
<span class="pgcssnv">LC_MONETARY</span><span class="pgcsso">=</span><span class="pgcsss2">&quot;es_VE.UTF-8&quot;</span>
<span class="pgcssnv">LC_MESSAGES</span><span class="pgcsso">=</span><span class="pgcsss2">&quot;es_VE.UTF-8&quot;</span>
<span class="pgcssnv">LC_PAPER</span><span class="pgcsso">=</span><span class="pgcsss2">&quot;es_VE.UTF-8&quot;</span>
<span class="pgcssnv">LC_NAME</span><span class="pgcsso">=</span><span class="pgcsss2">&quot;es_VE.UTF-8&quot;</span>
<span class="pgcssnv">LC_ADDRESS</span><span class="pgcsso">=</span><span class="pgcsss2">&quot;es_VE.UTF-8&quot;</span>
<span class="pgcssnv">LC_TELEPHONE</span><span class="pgcsso">=</span><span class="pgcsss2">&quot;es_VE.UTF-8&quot;</span>
<span class="pgcssnv">LC_MEASUREMENT</span><span class="pgcsso">=</span><span class="pgcsss2">&quot;es_VE.UTF-8&quot;</span>
<span class="pgcssnv">LC_IDENTIFICATION</span><span class="pgcsso">=</span><span class="pgcsss2">&quot;es_VE.UTF-8&quot;</span>
<span class="pgcssnv">LC_ALL</span><span class="pgcsso">=</span>
</pre></div>
</td></tr></table><p>Then use:</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="pgcsskn">import</span> <span class="pgcssnn">locale</span>

<span class="pgcssk">try</span><span class="pgcssp">:</span>
    <span class="pgcssn">locale</span><span class="pgcsso">.</span><span class="pgcssn">setlocale</span><span class="pgcssp">(</span><span class="pgcssn">locale …</span></pre></div></td></tr></table></div>
        <br>
        <a class="btn" href="https://www.jackboot7.com/debian-development-tips.html#debian-development-tips">    Continue reading
</a>
  </div>
</article>

  <div class="pagination">
  </div>




    <footer>
<p>&copy;  2020</p>
<p>    Built with <a href="http://getpelican.com" target="_blank">Pelican</a> using <a href="http://bit.ly/flex-pelican" target="_blank">Flex</a> theme
</p>    </footer>
  </main>




<script type="application/ld+json">
{
  "@context" : "http://schema.org",
  "@type" : "Blog",
  "name": " Luis Alberto Santana ",
  "url" : "https://www.jackboot7.com",
  "image": "https://2.gravatar.com/avatar/e426d5ca1f331cb8418614b7439a8dcd?v=2&s=150",
  "description": ""
}
</script>


</body>
</html>